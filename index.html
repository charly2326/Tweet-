<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interfaz Mejorada</title>
    <style>
        /* ======== ESTILOS GENERALES ======== */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #f5f8fa;
        }

        .container {
            display: flex;
            max-width: 1200px;
            margin: auto;
        }

        /* ======== MEN√ö IZQUIERDO ======== */
        .left-menu {
            width: 20%;
            padding: 20px;
            background: white;
            min-height: 100vh;
        }

        .left-menu nav a {
            display: block;
            text-decoration: none;
            padding: 10px;
            color: #333;
            font-size: 18px;
        }

        .left-menu button {
            padding: 10px 20px;
            background: #1da1f2;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 20px;
            margin-top: 20px;
            width: 100%;
        }

        /* ======== COLUMNA CENTRAL (FEED) ======== */
        .feed {
            width: 60%;
            padding: 20px;
        }

        .new-post {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .new-post textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 10px;
            resize: none;
            font-size: 16px;
        }

        .new-post button {
            padding: 10px 20px;
            background: #1da1f2;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 20px;
            margin-top: 10px;
        }

        .post {
            background: white;
            border: 1px solid #ddd;
            border-radius: 10px;
            margin-bottom: 20px;
            padding: 15px;
        }

        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .post-header .avatar {
            width: 50px;
            height: 50px;
            background: #ccc;
            border-radius: 50%;
            margin-right: 10px;
            background-size: cover;
            background-position: center;
        }

        .post-header h3 {
            margin: 0;
            color: #1da1f2;
            cursor: pointer;
        }

        .post img {
            width: 100%;
            border-radius: 10px;
            margin-top: 10px;
        }

        .post-actions {
            margin-top: 10px;
        }

        .post-actions button {
            background: none;
            border: none;
            cursor: pointer;
            margin-right: 10px;
            font-size: 16px;
        }

        /* ======== MEN√ö DERECHO (TENDENCIAS) ======== */
        .right-menu {
            width: 20%;
            padding: 20px;
            background: white;
            min-height: 100vh;
        }

        .right-menu h3 {
            margin-top: 0;
        }

        .right-menu ul {
            list-style: none;
            padding: 0;
        }

        .right-menu ul li {
            padding: 8px;
            font-weight: bold;
        }

        /* ======== VISTA PREVIA DE ARCHIVOS ======== */
        .file-input-btn {
            background-color: #1da1f2;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
            width: 150px;
            margin-top: 10px;
        }

        .file-input {
            display: none;
        }

        #filePreview {
            margin-top: 10px;
        }

        #filePreview img,
        #filePreview video {
            max-width: 100px;
            margin-right: 10px;
            border-radius: 10px;
        }

        /* ======== ESTILOS PARA COMENTARIOS ======== */
        .comments {
            margin-top: 10px;
            padding: 10px;
            background: #f5f8fa;
            border-radius: 10px;
        }

        .comment {
            display: flex;
            margin-bottom: 10px;
        }

        .comment .avatar {
            width: 30px;
            height: 30px;
            background: #ccc;
            border-radius: 50%;
            margin-right: 10px;
            background-size: cover;
            background-position: center;
        }

        .comment-content {
            flex: 1;
        }

        .comment-content h4 {
            margin: 0;
            font-size: 14px;
            color: #1da1f2;
        }

        .comment-content p {
            margin: 5px 0;
            font-size: 14px;
        }

        .add-comment {
            margin-top: 10px;
        }

        .add-comment textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 10px;
            resize: none;
            font-size: 14px;
        }

        .add-comment button {
            padding: 5px 10px;
            background: #1da1f2;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 20px;
            margin-top: 5px;
            font-size: 14px;
        }

        /* ======== MODAL DE PERFIL ======== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 10px;
            width: 400px;
            text-align: center;
            position: relative;
        }

        .modal-content .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 18px;
            cursor: pointer;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            margin: auto;
        }

        .profile-name {
            font-size: 22px;
            font-weight: bold;
            margin-top: 10px;
        }

        .profile-username {
            color: gray;
            font-size: 16px;
        }

        .profile-bio {
            margin-top: 10px;
            font-size: 14px;
        }

        .follow-btn {
            background-color: #1da1f2;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }

        .stats div {
            text-align: center;
        }

        .stats div span {
            display: block;
            font-size: 18px;
            font-weight: bold;
        }

        .timeline {
            margin-top: 20px;
            text-align: left;
        }

        .timeline h4 {
            margin-bottom: 10px;
            font-size: 18px;
        }

        .timeline-item {
            background: #f5f8fa;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 10px;
        }

        .timeline-item p {
            margin: 0;
        }
    </style>
</head>
<body>
    <!-- Contenedor Principal -->
    <div class="container">
        <!-- Men√∫ Izquierdo -->
        <div class="left-menu">
            <nav>
                <a href="#">Inicio</a>
                <a href="#">Explorar</a>
                <a href="#">Notificaciones</a>
                <a href="#">Mensajes</a>
                <a href="#" onclick="openProfileModal()">Perfil</a>
            </nav>
            <button onclick="abrirEditor()">Publicar</button>
        </div>

        <!-- Feed Central -->
        <div class="feed">
            <!-- √Årea para escribir el post -->
            <div class="new-post">
                <textarea id="postText" placeholder="¬øQu√© est√° pasando?"></textarea>
                <label for="fileInput" class="file-input-btn">Subir archivo</label>
                <input type="file" id="fileInput" class="file-input" multiple onchange="previewFiles()">
                <div id="filePreview"></div>
                <button onclick="publicar()">Publicar</button>
            </div>

            <!-- Ejemplo de post -->
            <div class="post">
                <div class="post-header">
                    <div class="avatar" style="background-image: url('avatar.jpg');"></div>
                    <h3 onclick="openUserProfile('@usuario')">@usuario</h3>
                </div>
                <p>Este es un ejemplo de publicaci√≥n.</p>
                <img src="https://via.placeholder.com/600x400" alt="Post Image">
                <div class="post-actions">
                    <button onclick="toggleComments(this)">üí¨ Comentar</button>
                    <button>‚ù§Ô∏è</button>
                    <button>üì§</button>
                </div>
                <div class="comments" style="display: none;">
                    <div class="add-comment">
                        <textarea class="comment-input" placeholder="Escribe un comentario..."></textarea>
                        <button onclick="agregarComentario(this)">Comentar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Men√∫ Derecho (Tendencias) -->
        <div class="right-menu">
            <h3>Tendencias</h3>
            <ul id="trendingList">
                <li>#Tendencia1</li>
                <li>#Tendencia2</li>
                <li>#Tendencia3</li>
            </ul>
        </div>
    </div>

    <!-- MODAL DE PERFIL -->
    <div class="modal" id="perfilModal" onclick="cerrarModalPerfil(event)">
        <div class="modal-content">
            <span class="close-btn" onclick="cerrarModalPerfil(event)">‚úñ</span>
            <div class="profile-avatar" id="avatarPerfil" style="background-image: url('avatar.jpg');"></div>
            <div class="profile-name" id="nombrePerfil">Nombre del Usuario</div>
            <div class="profile-username" id="usuarioPerfil">@usuario</div>
            <p class="profile-bio" id="bioPerfil">Esta es la biograf√≠a del usuario.</p>
            <button class="follow-btn" onclick="toggleFollow()">Seguir</button>
            <div class="stats">
                <div>
                    <span id="tweetsCount">123</span>
                    Tweets
                </div>
                <div>
                    <span id="followingCount">456</span>
                    Siguiendo
                </div>
                <div>
                    <span id="followersCount">789</span>
                    Seguidores
                </div>
            </div>
            <div class="timeline">
                <h4>Timeline</h4>
                <div class="timeline-item">
                    <p>Primer Tweet</p>
                </div>
                <div class="timeline-item">
                    <p>Segundo Tweet</p>
                </div>
                <!-- Otros tweets pueden ser a√±adidos aqu√≠ -->
            </div>
        </div>
    </div>

    <!-- Script para manejar el modal -->
   <script>
    // Variables para seguimiento del estado de seguimiento
    let isFollowing = false;
    const currentUsername = '@mi_usuario'; // Cambia este valor al nombre de usuario actual

    // Funci√≥n para mostrar la vista previa de los archivos seleccionados
    function previewFiles() {
        const fileInput = document.getElementById('fileInput');
        const previewContainer = document.getElementById('filePreview');

        previewContainer.innerHTML = ''; // Limpiar vista previa anterior

        const files = fileInput.files;

        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            const fileType = file.type.split('/')[0]; // Tipo de archivo (imagen, video, etc.)

            const fileElement = document.createElement('div');
            fileElement.classList.add('file-preview-item');

            if (fileType === 'image') {
                const img = document.createElement('img');
                img.src = URL.createObjectURL(file);
                fileElement.appendChild(img);
            } else if (fileType === 'video') {
                const video = document.createElement('video');
                video.src = URL.createObjectURL(file);
                video.controls = true;
                fileElement.appendChild(video);
            }

            previewContainer.appendChild(fileElement);
        }
    }

    // Publicar un Tweet con validaci√≥n
    function publicar() {
        let input = document.getElementById("postText").value.trim();
        if (input === "") {
            alert("¬°El post no puede estar vac√≠o!");
            return;
        }

        let feed = document.querySelector(".feed");
        let newPost = document.createElement("div");
        newPost.classList.add("post");

        // Crear el contenido del post
        let postContent = `
            <div class="post-header">
                <div class="avatar" style="background-image: url('avatar.jpg');"></div>
                <h3 onclick="openUserProfile('@usuario')">@usuario</h3>
            </div>
            <p>${input}</p>
        `;

        // A√±adir la imagen si hay archivos seleccionados
        const fileInput = document.getElementById('fileInput');
        if (fileInput.files.length > 0) {
            const file = fileInput.files[0];
            const fileType = file.type.split('/')[0]; // Tipo de archivo (imagen, video, etc.)

            if (fileType === 'image') {
                const img = document.createElement('img');
                img.src = URL.createObjectURL(file);
                img.style.width = '100%';
                img.style.borderRadius = '10px';
                img.style.marginTop = '10px';
                postContent += img.outerHTML;
            } else if (fileType === 'video') {
                const video = document.createElement('video');
                video.src = URL.createObjectURL(file);
                video.controls = true;
                video.style.width = '100%';
                video.style.borderRadius = '10px';
                video.style.marginTop = '10px';
                postContent += video.outerHTML;
            }
        }

        // A√±adir acciones al post
        postContent += `
            <div class="post-actions">
                <button onclick="toggleComments(this)">üí¨ Comentar</button>
                <button>‚ù§Ô∏è</button>
                <button>üì§</button>
            </div>
            <div class="comments" style="display: none;">
                <div class="add-comment">
                    <textarea class="comment-input" placeholder="Escribe un comentario..."></textarea>
                    <button onclick="agregarComentario(this)">Comentar</button>
                </div>
            </div>
        `;

        newPost.innerHTML = postContent;
        feed.appendChild(newPost);

        // Limpiar el formulario despu√©s de publicar
        document.getElementById("postText").value = "";
        document.getElementById("filePreview").innerHTML = "";
        fileInput.value = ""; // Limpiar el input de archivos
    }

    // Funci√≥n para mostrar/ocultar comentarios
    function toggleComments(button) {
        const post = button.closest('.post');
        const commentsSection = post.querySelector('.comments');
        commentsSection.style.display = commentsSection.style.display === 'none' ? 'block' : 'none';
    }

    // Funci√≥n para agregar un comentario
    function agregarComentario(button) {
        const commentInput = button.previousElementSibling;
        const commentText = commentInput.value.trim();
        if (commentText === "") {
            alert("¬°El comentario no puede estar vac√≠o!");
            return;
        }

        const commentsSection = button.closest('.comments');
        const newComment = document.createElement('div');
        newComment.classList.add('comment');

        newComment.innerHTML = `
            <div class="avatar" style="background-image: url('avatar.jpg');"></div>
            <div class="comment-content">
                <h4>@usuario</h4>
                <p>${commentText}</p>
            </div>
        `;

        commentsSection.insertBefore(newComment, commentsSection.querySelector('.add-comment'));

        // Limpiar el √°rea de texto despu√©s de agregar el comentario
        commentInput.value = "";
    }

    // Abrir modal de perfil
    function openProfileModal() {
        document.getElementById("perfilModal").style.display = "flex";
        // Verificar si el perfil es del usuario actual
        const profileUsername = document.getElementById("usuarioPerfil").innerText;
        const perfilBtn = document.getElementById("perfilBtn");
        if (profileUsername === currentUsername) {
            perfilBtn.textContent = "Editar perfil";
        } else {
            perfilBtn.textContent = isFollowing ? 'Siguiendo' : 'Seguir';
        }
    }

    // Cerrar modal de perfil
    function cerrarModalPerfil(event) {
        if (event.target.classList.contains('modal') || event.target.classList.contains('close-btn')) {
            document.getElementById("perfilModal").style.display = "none";
        }
    }

    // Abrir perfil de usuario
    function openUserProfile(username) {
        document.getElementById("perfilModal").style.display = "flex";
        document.getElementById("usuarioPerfil").innerText = username;
        const perfilBtn = document.getElementById("perfilBtn");
        if (username === currentUsername) {
            perfilBtn.textContent = "Editar perfil";
        } else {
            perfilBtn.textContent = isFollowing ? 'Siguiendo' : 'Seguir';
        }
    }

    // Funci√≥n para seguir/dejar de seguir al usuario
    function toggleFollow() {
        const followBtn = document.querySelector('.follow-btn');
        isFollowing = !isFollowing;
        followBtn.textContent = isFollowing ? 'Siguiendo' : 'Seguir';
        followBtn.style.backgroundColor = isFollowing ? 'gray' : '#1da1f2';
    }
</script>
</body>
</html>
